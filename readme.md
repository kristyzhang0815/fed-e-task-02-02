# 一、简答题
## 1、Webpack 的构建流程主要有哪些环节？如果可以请尽可能详尽的描述 Webpack 打包的整个过程。
### 构建流程主要环节：

1. 根据配置，识别入口文件
2. 逐层识别模块依赖（包括 Commonjs、AMD、或 ES6 的 import 等，都会被识别和分析）
3. Webpack 主要工作内容就是分析代码，转换代码，编译代码，最后输出代码
4. 输出最后打包后的代码

### 打包过程：

1. 初始化参数
解析 Webpack 配置参数，合并 Shell 传入和 webpack.config.js 文件配置的参数，形成最后的配置结果。

2. 开始编译
第一步得到的参数初始化 compiler 对象，注册所有配置的插件，插件监听 Webpack 构建生命周期的事件节点，做出相应的反应，执行对象的 run 方法开始执行编译。

3. 确定入口
从配置文件（ webpack.config.js ）中指定的 entry 入口，开始解析文件构建 AST 语法树，找出依赖，递归下去。

4. 编译模块
递归中根据文件类型和 loader 配置，调用所有配置的 loader 对文件进行转换，再找出该模块依赖的模块，再递归本步骤直到所有入口依赖的文件都经过了本步骤的处理。

5. 完成模块编译并输出
递归完后，得到每个文件结果，包含每个模块以及他们之间的依赖关系，根据 entry 配置生成代码块 chunk 。

5. 输出完成
输出所有的 chunk 到文件系统。

## 2、Loader 和 Plugin 有哪些不同？请描述一下开发 Loader 和 Plugin 的思路。

1. 区别：

- Loader：Webpack 将一切文件视为模块，但是 webpack 原生是只能解析 js 文件，如果想将其他文件也打包的话，就会用到 loader。 所以 Loader 的作用是让 webpack 拥有了加载和解析非 JavaScript 文件的能力。
  
- Plugin：Plugin 可以扩展 webpack 的功能，让 webpack 具有更多的灵活性。 在 Webpack 运行的生命周期中会广播出许多事件，Plugin 可以监听这些事件，在合适的时机通过 Webpack 提供的 API 改变输出结果。
  
1. 开发思路：

- Loader    
  每个Webpack的Loader都需要导出一个函数，这个函数就是我们这个 Loader 对资源的处理过程，函数的输入就是加载到的资源文件内容，函数返回结果的就是我们在函数内部经过逻辑处理后的结果，这个返回的结果必须是javascript代码，如果不是javascript代码，那么就必须借助下一个或者多个loader来形成一个工作管道，你可以在这个过程中依次使用多个 Loader，但是最终这个管道结束过后的结果必须是一段标准的 JS 代码字符串。

- plugin    
  
  在 Webpack 整个工作过程会有很多环节，几乎在每一个环节都有一个钩子。

  在开发插件的时候，通过往这些不同节点上挂载不同的任务，就可以轻松扩展 Webpack 的能力。

  Webpack 要求插件必须是一个函数或者是一个包含 apply 方法的对象，一般我们都会定义一个class类型，在这个类型中定义 apply 方法，apply方法会在 Webpack 启动时被调用，它接收一个 compiler 对象参数，这个对象是 Webpack 工作过程中最核心的对象，里面包含了我们此次构建的所有配置信息。

  通过apply对象去注册钩子函数，这个钩子函数接收两个参数，一个参数是插件的名称，另一参数是要挂在到这个钩子上的函数，在这个函数中接收一个 compilation 对象参数，这个对象可以理解为此次运行打包的上下文，所有打包过程中产生的结果，都会放到这个对象中。然后在使用时，再通过这个类型来创建一个实例对象去使用这个插件。
  
# 二、编程题
## 1、使用 Webpack 实现 Vue 项目打包任务

作业见code文件夹底下

具体任务及说明：

先下载任务的基础代码  百度网盘链接: https://pan.baidu.com/s/1pJl4k5KgyhD2xo8FZIms8Q 提取码: zrdd

这是一个使用 Vue CLI 创建出来的 Vue 项目基础结构

有所不同的是这里我移除掉了 vue-cli-service（包含 webpack 等工具的黑盒工具）

这里的要求就是直接使用 webpack 以及你所了解的周边工具、Loader、Plugin 还原这个项目的打包任务

尽可能的使用上所有你了解到的功能和特性

作业要求

本次作业中的编程题要求大家完成相应代码后（二选一）

1.  简单录制一个小视频介绍一下实现思路，并演示一下相关功能。

2.  提交一个项目说明文档，要求思路流程清晰。

最终将录制的视频或说明文档和代码统一提交至作业仓库。